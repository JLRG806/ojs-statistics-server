
<div>
    <button onclick="updateChart('month')">Mes</button>
    <button onclick="updateChart('year')">AÃ±o</button>
</div>
<div>
    <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('myChart');

    const chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: '# of downloads',
                data: [],
                borderWidth: 2.5
            },
            {
                label: '# of views',
                data: [],
                borderWidth: 2.5
            }]
        },
        options: {
            responsive: true,
            layout: {
                autoPadding: false
            },
            tension: 0.35,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    const getData = (period) => {
        let labels = [];
        let dataDownloads = [];
        let dataViews = [];
        const now = new Date();

        if (period === 'month') {
            const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
            labels = Array.from({ length: daysInMonth }, (_, i) => i + 1);
            dataDownloads = Array.from({ length: daysInMonth }, () => Math.floor(Math.random() * 20) + 1);
            dataViews = Array.from({ length: daysInMonth }, () => Math.floor(Math.random() * 20) + 1);
        } else if (period === 'year') {
            labels = Array.from({ length: 12 }, (_, i) => new Date(0, i).toLocaleString('default', { month: 'short' }));
            dataDownloads = Array.from({ length: 12 }, () => Math.floor(Math.random() * 100) + 1);
            dataViews = Array.from({ length: 12 }, () => Math.floor(Math.random() * 100) + 1);
        }

        return { labels, dataDownloads, dataViews };
    };

    const updateChart = (period) => {
        const { labels, dataDownloads, dataViews } = getData(period);

        chart.data.labels = labels;
        chart.data.datasets[0].data = dataDownloads;
        chart.data.datasets[1].data = dataViews;
        chart.update();
    };
</script>